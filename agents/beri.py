from utils.whatsapp import send_whatsapp
from utils.sheets import get_sheet, find_today_row, update_cell
from datetime import datetime
import openai
import os

def beri_daily_update():
    sheet = get_sheet()
    today = datetime.now().strftime("%d/%m/%Y")
    row = find_today_row(sheet)

    # ×™×¦×™×¨×ª ×”×•×“×¢×ª ××™××•×Ÿ ×™×•××™×ª ××‘×¨
    exercise_message = (
        f"××”×œ×Ÿ ×¢×¨×Ÿ! ğŸŠâ€â™‚ï¸\n"
        f"×”×™×•× {today}, ×™×© ×œ× ×• ××™××•×Ÿ ×©×—×™×™×”.\n"
        f"- ×¡×’× ×•×Ÿ ×¢×™×§×¨×™: ×—×–×” + ×—×ª×™×¨×”\n"
        f"- ××©×š ×›×œ×œ×™: 50 ×“×§×•×ª\n"
        f"- ××˜×¨×•×ª ×“×•×¤×§: 140-155 ×¤×¢×™××•×ª ×œ×“×§×”\n"
        f"- ×—×™××•×: 10 ×“×§×•×ª ×©×—×™×™×” ×§×œ×”\n"
        f"- ×¡×˜×™× ×¢×™×§×¨×™×™×: \n"
        f"  * 4x100 ××˜×¨ ×‘×§×¦×‘ ×‘×™× ×•× ×™ ×¢× 30 ×©× ×™×•×ª ×× ×•×—×”\n"
        f"  * 4x50 ××˜×¨ ××”×™×¨ ×¢× 20 ×©× ×™×•×ª ×× ×•×—×”\n"
        f"- ×©×—×¨×•×¨: 5 ×“×§×•×ª ×©×—×™×™×” ×¨×’×•×¢×”\n\n"
        f"××™×š ××ª×” ××¨×’×™×© ×”×‘×•×§×¨? ×ª×›×ª×•×‘ ×œ×™ ×‘×¡×•×£ ×”××™××•×Ÿ ××™×š ×”×œ×š ×•××” ×”×¨×’×©×ª! ğŸ’¬"
    )

    send_whatsapp(exercise_message)

def beri_feedback_request():
    message = (
        "×¢×¨×Ÿ, ×¡×™×™××ª ××ª ×”××™××•×Ÿ? ğŸŠâ€â™‚ï¸\n"
        "×©×œ×— ×œ×™:\n"
        "- ××™×š ×”×¨×’×©×ª? ğŸ¤”\n"
        "- ××” ×”×™×” ×œ×š ×”×›×™ ×§×©×”? ğŸ’ª\n"
        "- ×›××” ×–××Ÿ ×œ×§×— ×œ×š ×›×œ ×¡×˜?\n"
        "- ×”×× ×©××¨×ª ×¢×œ ×”×“×•×¤×§ ×”××•××œ×¥?\n"
        "×× ×™ ×¤×” ×œ×œ××•×“ ×•×œ×©×¤×¨ ××•×ª×š! âœ¨"
    )
    send_whatsapp(message)

def beri_encouragement():
    message = (
        "×ª×–×›×•×¨ ×¢×¨×Ÿ, ×›×œ ××™××•×Ÿ ××§×¨×‘ ××•×ª×š ×œ××˜×¨×”! ğŸ†\n"
        "×’× ×× ×§×©×” â€” ×ª××©×™×š. ×× ×™ ×’××” ×‘×š! ğŸ’™"
    )
    send_whatsapp(message)
